# LDAP

The Lightweight Directory Access Protocol (LDAP) is an application protocol for accessing and maintaining distributed directory information services over an Internet Protocol (IP) network.
Directory services may provide any organized set of records, often with a hierarchical structure such as a corporate email or telephone directory. LDAP is an IETF standard and the latest specification is Version 3, published as RFC 4511.

The Server can use OpenLDAP as its internal directory server to store data generated by the service, such as user profiles, configuration data, tokens and credentials. 
LDAP should not be used as an application integration protocol. Applications should stick to SAML or OpenID Connect for interacting with the Server.

# SCIM

The System for Cross-domain Identity Management (SCIM) specification is designed to make managing user identities in cloud-based applications and services easier. The specification suite seeks to build upon experience with existing schemas and deployments, placing specific emphasis on simplicity of development and integration, while applying existing authentication, authorization, and privacy models.

Its intent is to reduce the cost and complexity of user management operations by providing a common user schema and extension model, as well as binding documents to provide patterns for exchanging this schema using standard protocols. In essence: make it fast, cheap, and easy to move users in to, out of, and around the cloud.

# SAML 2.0

Security Assertion Markup Language 2.0 (SAML 2.0) is the most current version of the SAML OASIS standard for exchanging authentication and authorization data between security domains, or widely referred to as single sign-on.

SAML 2.0 is an XML-based protocol that uses security tokens containing assertions to pass information about a principal (usually an end user) between a SAML authority, that is an identity provider, and a web service, that is a service provider.

SAML 2.0 enables web-based authentication and authorization scenarios including single sign-on (SSO).

SAML 2.0 was ratified as an OASIS Standard in March 2005, replacing SAML 1.1. The critical aspects of SAML 2.0 are covered in detail in the official documents SAMLConform, SAMLCore, SAMLBind, and SAMLProf.
Some 30 individuals from more than two dozen companies and organizations were involved with the creation of SAML 2.0. In particular, and of special note, Liberty Alliance donated its Identity Federation Framework (ID-FF) specification to OASIS, which became the basis of the SAML 2.0 specification.
Thus SAML 2.0 represents the convergence of SAML 1.1, Liberty ID-FF 1.2, and Shibboleth 1.3.

# OAuth 2.0

OAuth 2.0 is an authorization framework that provides a common denominator for authorization.

OAuth provides a method for clients to access server resources on behalf of a resource owner (such as a mobile device or an end-user). It also provides a process for end-users to authorize third-party access to their resources without sharing their credentials.
OAuth 2.0 can be used to solve a range of use cases like API access management, posting on someone’s wall, and using IOT services. If you are looking for a specific profile of OAuth 2.0 for attribute release and authentication, you need to look more closely at OpenID Connect (hereafter “Connect”).

# OpenID Connect

OpenID Connect is a simple JSON/REST-based interoperable identity protocol built on top of the OAuth 2.0 family of specifications. Its design philosophy is ‘make simple things simple and make complicated things possible’.

While OAuth 2.0 is a generic access authorization delegation protocol, thus enabling the transfer of arbitrary data, it does not define ways to authenticate users or communicate information about them. OpenID Connect provides a secure, flexible, and interoperable identity layer on top of OAuth 2.0 so that digital identities can be easily used across sites and applications.

Where OpenID 2.0 made people remember long url ID’s, OpenID Connect standardizes on email. Connect allows a user to authenticate to an App, a service or a site (generically termed a Relying Party, or RP) using an identity established with any other OpenID Connect Identity Provider. This could be your Google or Facebook email address. Or, if you launch your own OpenID Connect Provider (OP) service it could be any email address at your own domain!

The simplest deployment of OpenID Connect allows for clients of all types including browser-based, mobile, and javascript clients, to request and receive information about identities and currently authenticated sessions. The specification suite is extensible, allowing participants to optionally also support encryption of identity data, discovery of the OpenID Provider, and advanced session management, including logout.

# Enterprise UMA (user managed access)

As a profile of OAuth 2.0 that is complementary to OpenID Connect, the user managed access, or “UMA”, specification defines RESTful, JSON-based, standardized flows and constructs for coordinating the protection of APIs and web resources in a way that will be familiar to any developer already acquainted with OAuth.

UMA’s machine-readable resource sets and scope descriptions creates an access control mechanism that enables control over specific API scopes (customizable buckets of API functionality) and website domains. With UMA, client app developers can handle authorization tasks by calling simple JSON/REST endpoints; administrators don’t have to deploy a web server agent or reverse proxy to enable centralized policy enforcement.

UMA defines interfaces between authorization servers and resource servers that, by default, enable centralized policy decision-making for improved service delivery, auditing, policy administration, and accountability, even in a very loosely coupled “public API” environment. Custom profiles enable flexibility to move the decision-making line outward to distributed applications, to account for local preferences in API ecosystems. UMA does not standardize a policy expression language, enabling flexibility in policy expression and evaluation through XACML, other declarative policy languages, or procedural code as warranted by conditions.

UMA inherits authentication agnosticism from OAuth. It concentrates on authorization, not on authentication. It has been profiled to work with OpenID Connect to gather identity claims from whoever (or whatever device) is attempting access, and enables true claims-based authorization (with simple group or role based policies a natural subset).

---

# How does SAML work? IDPs & SPs

https://www.gluu.org/resources/documents/articles/how-does-saml-work-idps-sps/

SAML, or Security Assertion Markup Language, is an XML-based framework for communicating user authentication, entitlement, and attribute information. SAML allows business entities to make assertions regarding the identity, attributes, and entitlements of a subject (most often a human user) to other entities, such as a partner company or another enterprise application. By defining standardized mechanisms for the communication of security and identity information between business partners, SAML makes federated identity, and the crossdomain transactions that it enables, a reality.

SAML principles
SAML defines three roles: the principal (typically a user), the identity provider (IDP), and the service provider (SP). In the use case addressed by SAML, the principal requests a service from the service provider. The service provider requests and obtains an authentication assertion from the identity provider. On the basis of this assertion, the service provider can make an access control decision — in other words it can decide whether to perform some service for the connected principal. SAML does not specify the method of authentication at the IDP; it may require username and password, or another form of authentication, including multi-factor authentication (MFA).

SAML components
SAML requests and responses are made up of the following components:

Assertions – An assertion is a package of information that supplies one or more statements made by a SAML authority. SAML defines three kinds of assertion statements that can be created by a SAML authority:
Authentication assertions are used to make people prove their identities. This kind of statement is typically generated by the SAML identity provider (IDP).
Attribute assertions are used to supply specific information about the person, for example their phone number or email address.
Authorization decisions determine whether the specified subject has been granted or denied permission to access the specified resource.
For single sign-on (SSO), a typical SAML assertion will contain a single authentication statement and possibly a single attribute statement. A SAML response could contain multiple assertions, although its more typical to have a single assertion within a response.

Protocol – This defines the way that SAML asks for and gets assertions, for example, using SOAP over HTTP.
Binding – This details exactly how SAML message exchanges are mapped into SOAP exchanges.
Profile – A SAML profile describes in detail how SAML assertions, protocols, and bindings combine to support a defined use case. The most important SAML profile is the Web Browser SSO Profile.
5 benefits of using SAML:
There are many reasons to use a SAML IDP like the Gluu Server, including:

User passwords never cross the ﬁrewall, since user authentication occurs inside of the ﬁrewall and multiple Web application passwords are no longer required.
Web applications with no passwords are virtually impossible to hack, as the user must authenticate against an enterprise-class IdM ﬁrst, which can include strong authentication mechanisms.
“SP-initiated” SAML SSO provides access to Web apps for users outside of the ﬁrewall. If an outside user requests access to a Web application, the SP can automatically redirect the user to an authentication portal located at the Identity Provider. After authenticating, the user is granted access to the application, while their login and password remains locked safely inside the ﬁrewall.
Centralized federation provides a single point of Web application access, control and auditing, which has security, risk and compliance beneﬁts.
A properly executed identity federation layer that satisﬁes all of the use cases described above and supports multiple protocols can provide an enterprise-wide, architecturally sound Internet SSO solution.

---

# OAuth vs. SAML vs. OpenID Connect

https://www.gluu.org/resources/documents/articles/oauth-vs-saml-vs-openid-connect/

Today there are three dominant open web standards for identity online: OAuth, SAML and OpenID Connect. In the following article we’ll examine how the technologies relate to each other, and under which circumstances each technology should be used.

OAuth 2.0 vs. OpenID Connect
The first thing to understand is that OAuth 2.0 is an authorization framework, not an authentication protocol. OAuth 2.0 can be used for a lot of cool tasks, one of which is person authentication.

OpenID Connect is a “profile” of OAuth 2.0 specifically designed for attribute release and authentication.

From a technical perspective, the big difference between OpenID Connect and OAuth 2.0 is the id_token–there is no id_token defined in OAuth 2.0 because it is specific to federated authentication.

The id_token provides an additional layer of security to user sign in transactions by adding:

A nonce, which is sent by the client and enables the integrity of the response to be validated;
A hash of the access token;
A hash of the code (optional).
Net-net, OpenID Connect is laser-focused on user authentication, whereas OAuth 2.0 was left generic so it could be applied to many authorization requirements, like API access management, posting on someone’s wall, and using IOT services.

SAML vs. OpenID Connect
At the risk of over-simplification, OpenID Connect is a rewrite of SAML using OAuth 2.0. Let’s look at a few similarities and differences…

IDP / SP vs. OP / RP
In SAML, the user is redirected from the Service Provider (SP) to the Identity Provider (IDP) for sign in.

In OpenID Connect, the user is redirected from the Relying Party (RP) to the OpenID Provider (OP) for sign in.

The SAML SP is always a website. The OpenID Connect RP is either a web or mobile application, and is frequently called the “client” because it extends an OAuth 2.0 client.

In both cases, the IDP/OP controls the login to avoid exposing secrets (like passwords) to the website or app.

Assertion vs. id_token
In SAML, there is an “assertion”–a signed XML document with the subject information (who authenticated), attributes (info about the person), the issuer (who issued the assertion), and other information about the authentication event.

The equivalent in OpenID Connect is the id_token. This is a signed JSON document that contains the subject, issuer, and authentication information.

Front Channel vs. Back Channel
A big difference between OpenID Connect and SAML is the use of “front-channel” and “back-channel”:

The front-channel is the browser;
The back-channel is communication directly between the application and the IDP/OP.
Although SAML defines back-channel mechanisms, they are rarely used in practice. The most common way SAML sends the request XML and response XML (assertion) is via the browser. Most SAML sites use the “POST Binding” to send the response.

In this scenario, the browser is sent an HTML form from the IDP with the response XML as a form parameter. There is some JavaScript in the form to auto-submit the data back to the SP. It’s a neat trick because the SP and IDP don’t need network connectivity to communicate–the browser acts as a middle-man!

OpeniD Connect defines a similar mechanism (“Form Post Response Mode”)–but unlike SAML, it’s use is more the exception than the rule. Both OpenID Connect and SAML frequently use something like the “Redirect Binding” to send the request. This is where the URL parameters are used to send the XML. This also leverages the browser.

OpenID Connect normally uses the back channel–a direct call from the RP to the OP–to retrieve this information. The attributes (or “user claims” in OpenID jargon) are available to the client by calling the user_info endpoint, which is a JSON REST API. However, because this is OAuth 2.0, the client needs a token to call this API. And according to the OAuth 2.0 framework, the token is obtained from the OPs token endpoint using the back channel.

Which protocol, when?
So when should SAML be used, and when should OAuth 2.0 or OpenID Connect be used instead?

Mobile applications: no question–use OpenID Connect.
If the application already supports SAML: use SAML.
If you are writing a new application, use OpenID Connect–skate to where the puck is going!
If you need to protect API’s, or you need to create an API Gateway… that’s a topic for another blog. Short answer: use OAuth 2.0 or the User Managed Access (“UMA”) protocol.
The good news is that if you are using the Gluu Server, you’ll be able to support single sign-on (SSO) whether your apps use SAML, OpenID Connect or OAuth 2.0.



---
Source: [gluu.org](https://www.gluu.org/resources/documents/)
